/**
 * angular-$uhttp - v2.6 - 2019-09-12
 * @author UNION DNC cvillegas
 */
angular.module("$uhttp",[]).provider("$uhttp",function(){function f(a,c){void 0===c&&(c={});var f=2E3,e="",g="";if(void 0!==c[b.severity_wrapper])var d=c[b.severity_wrapper];else void 0!==b.default_severity[a]?d=b.default_severity[a]:200<=a&&299>=a?d="success":499>=a?(d="warning",g=c.toString(),f=3E3):(d="error",g=c.toString(),f=5E3);void 0!==c[b.time_wrapper]&&(f=c[b.time_wrapper]);void 0!==c[b.title_wrapper]?e=c[b.title_wrapper]:void 0!==b.default_titles[a]&&(e=b.default_titles[a]);void 0!==c[b.message_wrapper]?
g=c[b.message_wrapper]:void 0!==b.default_messages[a]&&(g=b.default_messages[a]);""!==g&&("function"===typeof b[d]?b[d].call(this,g,f,e):alert(g))}function l(a){if("small"===a||"full_screen"===a||"process"===a)0===c[a]&&"function"===typeof b[a+"_loader_start"]&&b[a+"_loader_start"].call(this),c[a]++}function h(a){if("small"===a||"full_screen"===a||"process"===a)c[a]--,1>c[a]&&"function"===typeof b[a+"_loader_done"]&&b[a+"_loader_done"].call(this)}var b={message_wrapper:"message",severity_wrapper:"severity",
time_wrapper:"time",title_wrapper:"title",process_wrapper:"process",default_severity:{201:"success"},default_titles:{},default_messages:{201:"Informaci&oacute;n almacenada correctamente",500:"Error al realizar la petici&oacute;n al servidor"},status_callbacks:{},process_loader_start:void 0,process_loader_update:void 0,process_loader_done:void 0,full_screen_loader_start:void 0,full_screen_loader_done:void 0,small_loader_start:void 0,small_loader_done:void 0,alert:void 0,error:void 0,info:void 0,success:void 0,
warning:void 0,debug:void 0,close_debug:void 0},c={small:0,full_screen:0,process:0},e=0;return{setNotifications:function(a){b=angular.extend(b,a)},$get:["$http","$q",function(a,c){return function(m){var k=c.defer(),g,d=angular.extend({headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":void 0},method:"GET",loader:"small",process_url:""},m);"undefined"!==typeof d.params&&("/"!==d.url[d.url.length-1]&&(d.url+="/"),Object.keys(d.params).forEach(function(b){d.url+=b+"/"+d.params[b]+"/"}),d.params=
void 0);"undefined"!==typeof d.data&&(d.data=toFormData(d.data));"process"===d.loader&&void 0!==d.process_url&&(e=0);l(d.loader);"function"===typeof b.close_debug&&b.close_debug.call(this);a(d).then(function(a){"process"===d.loader&&void 0!==d.process_url&&window.clearInterval(g);h(d.loader);"undefined"!==typeof a.data.debug&&("function"===typeof b.debug?b.debug.call(this,a.data.debug):alert(a.data.debug));var c=parseInt(a.status),e=!0;"function"===typeof b.status_callbacks[c]&&(e=b.status_callbacks[c].call(this,
a));e&&(f(c,a.data),k.resolve(a.data))},function(a){"process"===d.loader&&void 0!==d.process_url&&window.clearInterval(g);h(d.loader);"undefined"!==typeof a.data.debug&&("function"===typeof b.debug?b.debug.call(this,a.data.debug):alert(a.data.debug));var c=parseInt(a.status),e=!0;"function"===typeof b.status_callbacks[c]&&(e=b.status_callbacks[c].call(this,a));e&&(f(c,a.data),k.reject(a.data))});"process"===d.loader&&void 0!==d.process_url&&"function"===typeof b.process_loader_update&&(g=window.setInterval(function(){a({headers:{"Content-Type":void 0},
url:d.process_url,method:"GET"}).then(function(a){void 0!==a.data&&a.data[b.process_wrapper]&&e<a.data[b.process_wrapper]&&100>=a.data[b.process_wrapper]&&(e=a.data[b.process_wrapper],b.process_loader_update.call(this,e))})},1E3));return k.promise}}]}});
function toFormData(f,l,h){var b=l||new FormData,c;for(c in f)if(f.hasOwnProperty(c)){var e=h?h+"["+c+"]":c;f[c]instanceof Date?b.append(e,f[c].toISOString()):f[c]instanceof Array?f[c].forEach(function(a,c){toFormData(a,b,e+"["+c+"]")}):"object"!==typeof f[c]||f[c]instanceof File?b.append(e,f[c]):toFormData(f[c],b,e)}return b};